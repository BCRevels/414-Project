<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <!-- <link rel="stylesheet" href="styles.css"> -->
  <title>Video Downloader</title>
  <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"> -->
  <link rel="stylesheet" href="./resources/bootstrap.min.css"/>
  <link rel="stylesheet" href="./styles.css" />
  <script>let $ = require('jquery');</script>
  <script>require('popper.js');</script>
  <script>require('bootstrap');</script>
</head>

<body>

  <script>
  function makeFileNameEditable() {
		console.log("hi");
	    if(document.getElementById('defaultCheck').checked) {
			document.getElementById('fileName').readOnly = true;
			document.getElementById('fileName').value = "";
			}
		else
			document.getElementById('fileName').readOnly = false;
	  }
	  
  function toggleHistory() {
	 	document.getElementById('downloadTab').style.display = "none";
		document.getElementById('historyTab').style.display = "block";
		document.getElementById('clearHistory').style.visibility = 'visible';
  }
  
  function toggleMain() {
		document.getElementById('downloadTab').style.display = "block";
		document.getElementById('historyTab').style.display = "none";
		document.getElementById('clearHistory').style.visibility = 'hidden';
  }
  </script>

  <div class="container-fluid">
	
	<!--Header-->
    <div class="row mb-3 py-2" style="background-color: black;">
      <div class="col"></div>
      <div class="col">
        <h3 class="text-center text-truncate" style="color: tomato;">Video Downloader</h3>
      </div>
      <div class="col"></div>
    </div>

	<!--Tabs-->
	<div class="tabs" style="left:0;">
		  <input class="btn btn-danger text-white" type="button" id="mainButton" onclick="toggleMain()" value="Main"/>
		  <input class="btn btn-danger text-white" type="button" id="historyButton" onclick="toggleHistory()" value="History"/>
		  <input class="btn btn-danger text-white" type="button" id="clearHistory" value="Clear History" onclick= "deleteHistory()" style="visibility:hidden;float:right"/>
    </div>
    <div id="downloadTab" style="text-align:left" class="tabcnt">
    <!-- URL desired is put here. Youtube-dl handles the rest.  As long as they have the same type and id, these
        should be able to be placed anywhere. Feel free to mess with the styling -->

    <div class="row mt-4">
      <div class="col"></div>
      <div class="col-auto align-self-center">
        <p id="header1 text-bold" class="font-weight-bold">Paste Video Links to download high quality videos with our
          video downloader:</p>
      </div>
      <div class="col"></div>
    </div>

    <div class="row">
      <div class="col">
        <input type="text" id="videoInput" class="form-control"
          placeholder="Ex: https://www.youtube.com/watch?v=9vuqI2v2IRs" />
        <!-- style="width: 40%; height: 7%; padding: 10px 24px; border-radius: 6px; margin-left:-70px" /> -->
      </div>
      <div class="col">
        <select class="form-control" id="downloadType" type="list" list="downloadType" name="downloadType"
          placeholder=" Download Type">
          <!-- style="width: 15%;  padding: 10px 24px; border-radius: 4px;" /> -->
          <option value="Video w/ Audio">Video w/ Audio</option>
          <option value="Video & Audio (Separate)">Video & Audio (Separate)</option>
          <!-- <option value="Video Only">Video Only</option> -->
          <option value="Audio Only">Audio Only</option>
        </select>
      </div>
    </div>

    <div class="row mt-4">
      <div class="col"></div>
      <div class="col-auto">
        <p id="header2" class="font-weight-bold">Select the directory you want to download your files to:</p>
      </div>
      <div class="col"></div>
    </div>

    <div class="row">
      <div class="col">
	  <form>
        <input class="form-control" type="text" id="downloadDirectory" readonly placeholder="/home/user/Downloads" />
        <!-- style="width: 56.5%; height: 5%; padding: 10px 24px; border-radius: 6px; margin-left:-70px" / -->
		</form>
      </div>
    </div>

    <div class="row mt-4">
      <div class="col align-self-center">
        <p id="header3" class="font-weight-bold">File Name:</p>
      </div>
    </div>

    <div class="row">
      <div class="col">
        <form>
          <div class=" form-group">
            <div class="form-row no-gutter">
              <div class="input-group">
                <input class="form-control" type="text" id="fileName" placeholder="Video1">
                <!-- style="width: 47%; height: 5%; padding: 10px 24px; border-radius: 6px;" / -->
                <div class="form-check form-check-inline input-group-append">
                  <label class="container form-check-label">Use Default Name</label>
                  <input class="form-check-input" type="checkbox" checked="" id="defaultCheck"
                    onclick="makeFileNameEditable()">
                  <span class="checkmark"></span>
                </div>

              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
    <!-- <br> -->

    <div class="row mb-4">
      <div class="col"></div>
      <div class="col-auto">
        <!-- <div id="reset"> -->
        <div class="btn-group" role="group">
          <button class="btn btn-success" type="button" id="startDownload" onclick="youtubeDlDownload()"
            value="Start Download">Start Download</button>
          <button class="btn btn-danger" type="button" id="resetField" onclick="" value="Reset Fields">Reset
            Fields</button>
          <button class="btn btn-warning" type="button" id="historyButton" onclick="toggleHistory()"
            value="History">Show
            History</button>
        </div>
      </div>
      <div class="col"></div>
    </div>
	
	<svg width="90%" height="50" id="loadingBarContainer" style="align:center;margin-top:2%;margin-bottom:2%;border-style:solid;visibility:hidden;">
		<rect id="loadingBar" width="0" height="50" style="fill:rgb(0,150,0);stroke:black;stroke-width:4;"/>
	</svg>
	<img src="spinner.gif" id="spinner" width="30" height="30" style="visibility:hidden;" />
	<p id="loadingPercent"></p>
</div>
</div>

<div class="container-fluid">
<div id="historyTab" style="display:none">
	<table id="historyTable">
		<tr>
			<th id="title">Title</th>
			<th id="downloadTime">Download Time</th>
		</tr>
    </table>
	</div>
</div>
</div>
</div>

  <footer class="footer">
    <p id="footer" class="text-center text-muted font-weight-bold">Copyright 2019 Â© Video Downloader. All Rights
      Reserved
    </p>
  </footer>

  <!-- You can also require other files to run in this process -->
  <script>


    function openTab(evt, tabAction) {
      // Declare all variables
      var t, tabcnt, tablnks;
      // Get all elements with class="tabcnt" and hide them
      tabcnt = document.getElementsByClassName("tabcnt"); // macOS DMG background
      for (i = 0; i < tabcnt.length; i++) {
        tabcnt[i].style.display = "none";
      }
      // Get all elements with class="tablnks" and remove the class "active"
      tablnks = document.getElementsByClassName("tablnks");
      for (i = 0; i < tablnks.length; i++) {
        tablnks[i].className = tablnks[i].className.replace(" active", "");
      }
      // Show the current tab, and add an "active" class to the link that opened the tab
      document.getElementById(tabAction).style.display = "block";
      evt.currentTarget.className += " active";
    }
  </script>


  <!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
    </script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
    </script> -->

  <script src="./renderer.js"></script>

  <!-- 
<div class="footer">
<<<<<<< Updated upstream
  <p>&copy; 2019 Video Downloader</p>
</div> -->

</body>

</html>