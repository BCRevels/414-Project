<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="styles.css">
    <title>Video Downloader</title>
	
  </head>
  <body>
  
  <script>
  function makeFileNameEditable() {
		console.log("hi");
	    if(document.getElementById('defaultCheck').checked) {
			document.getElementById('fileName').readOnly = true;
			document.getElementById('fileName').value = "";
			}
		else
			document.getElementById('fileName').readOnly = false;
	  }
  </script>

    <!-- Puts the header as a svg -->
  <svg width="100%" height="10%">
    <rect width="100%" height="100%" background="#FFFFF9" style="fill:rgb(0,0,0);stroke-width:8;stroke:rgb(0,0,0)" />
    <text fill="#d9473d" font-size="26" font-family="Manjari,sans-serif" x="40%" y="50%">Video Downloader</text>
  </svg>

<!--Hides the tab-->
<div class="tab" style="display:none">
      <button class="Tablinks" onclick="dFunction()">Download</button>
      <button class="Tablinks" onclick="bFunction()">Batches</button>
      <button class="Tablinks" onclick="sFunction()">Settings</button>
    </div>

  <div id="downloadTab" class="tabcnt">
    <!-- URL desired is put here. Youtube-dl handles the rest.  As long as they have the same type and id, these
        should be able to be placed anywhere. Feel free to mess with the styling -->

      <p id="header1"> Paste Video Links to download high quality videos with our video downloader</p>
      <div class="link1">
        <input type="text" id="videoInput" placeholder="Paste link here.. e.g. https://www.youtube.com/watch?v=9vuqI2v2IRs" style="width: 55%; height: 7%; padding: 10px 24px; border-radius: 4px;"/>
      </div>
        <p>What to Download:</p>
        <input type="radio" name = "radioButtons" id="vpacbutton" value = "">Video + Audio (Combined)
        <input type="radio" name = "radioButtons" id="vpasbutton" value = "">Video + Audio (Separate)
        <input type="radio" name = "radioButtons" id="vobutton" value = "">Video Only
        <input type="radio" name = "radioButtons" id="aobutton" value = "">Audio Only

        <br>

        <!-- drop down list for download types-->
        <input list="downloadType" name="downloadType" placeholder="Download Type" style=" border-radius: 4px;"/>
        <datalist id="downloadType">
          <option value="Video w/ Sound">
          <option value="Audio Only">
          <option value="Keep Both">
        </datalist>
      </div>


        <p id="header2">Select the directory you want to download your files to</p>
        <div class="link2">
          <input type="text" id="downloadDirectory" placeholder="/home/user/Downloads" style="width: 55%; height: 5%; 
          padding: 10px 24px; border-radius: 4px;"/>
        </div>

        <p id="header3">File Name:</p>
        <div class="link3">
          <input type="text" readonly id="fileName" placeholder="Default Video Name" style="width: 45%; height: 10% padding: 10px 24px; border-radius: 4px;"/>
          <label class="container">Use Default
          <input type="checkbox" checked="checked" id="defaultCheck" onclick="makeFileNameEditable()">
          <span class="checkmark"></span>
          </label>
        </div>
        <br>

        <div id = "reset">
        <input type="button" id="startDownload" onclick="youtubeDlDownload()" value="Start Download" />
        <input type="button" id="resetField" onclick="" value="Reset Field" />
        </div>
    </div>

    <div id="batchesTab" class="tabcnt">
    <p>Download Directory:</p>
    <input type="text" placeholder="/home/user/Downloads" readonly style="width: 50%; height: 5%"/>

    <p>URL to Video:</p>
    <input type="text" placeholder="https://www.youtube.com/watch" style="width: 50%; height: 5%"/>
    <input list="resolutionFormats" name="resolution" placeholder="Resolution" style="width:15%; height: 5%">
    
    <div id="batches">
    <input type="button" id="addToList" onclick="" value="Add to List" />
    <input type="button" id="startDownload" onclick="youtubeDlDownload()" value="Start Downloads" />
    </div>
	
	

    <datalist id="resolutionFormats">
      <option value="1080p">
      <option value="720p">
      <option value="480p">
      <option value="240p">
    <input type="button" id="clearAll" onclick="" value="Clear All" />
    </datalist>
    </div>

  <div id="settingsTab" class="tabcnt">
    <div id="settings">
      <input type="button" id="startDownload" onclick="youtubeDlDownload()" value="Start Downloads" />
      <input type="button" id="clearAll" onclick="" value="Clear All" />
    </div>
  </div>

<!-- The content are shown when the buttons are clicked -->
<script>
function dFunction() {
  var x = document.getElementById("downloadTab");
  var y = document.getElementById("batchesTab");
  var z = document.getElementById("settingsTab");
  x.style.display = "block";
  y.style.display = "none";
  z.style.display = "none";
}
</script>

<script>
function bFunction() {
  var x = document.getElementById("downloadTab");
  var y = document.getElementById("batchesTab");
  var z = document.getElementById("settingsTab");
  x.style.display = "none";
  y.style.display = "block";
  z.style.display = "none";
}
</script>

<script>
function sFunction() {
  var x = document.getElementById("downloadTab");
  var y = document.getElementById("batchesTab");
  var z = document.getElementById("settingsTab");
  x.style.display = "none";
  y.style.display = "none";
  z.style.display = "block";
}
</script>

	<input type="button" id="dialogButton" onclick="openDialog()" value="Files"/>
	<input type="button" id="historyButton" onClick="listHistory()" value="History"/>
	<input type="button" id="deleteHistory" onClick="deleteHistory()" value="Delete History"/>
	
	<!-- This is the loading bar -->
	<svg width="100%" height="100">
		<rect id="loadingBar" width="0" height="100" style="fill:rgb(0,200,0);" />
  </svg>

	
	<img src="spinner.gif" id="spinner" width="30" height="30" style="visibility:hidden;">
	<p id="loadingPercent"></p>
	
	
	
	<table id="history-table" width="50%" style="visibility:hidden;">
		<tr>
			<th>Title</th>
			<th>Download Time</th>
		</tr>
	</table>
	
	
    <!-- You can also require other files to run in this process -->
    <script>
	  
	
      function openTab(evt, tabAction) {
        // Declare all variables
        var t, tabcnt, tablnks;
        // Get all elements with class="tabcnt" and hide them
        tabcnt = document.getElementsByClassName("tabcnt");macOS DMG background
        for (i = 0; i < tabcnt.length; i++) {
          tabcnt[i].style.display = "none";
        }
        // Get all elements with class="tablnks" and remove the class "active"
        tablnks = document.getElementsByClassName("tablnks");
        for (i = 0; i < tablnks.length; i++) {
          tablnks[i].className = tablnks[i].className.replace(" active", "");
        }
        // Show the current tab, and add an "active" class to the link that opened the tab
        document.getElementById(tabAction).style.display = "block";
        evt.currentTarget.className += " active";
      }
    </script>
    <script src="./renderer.js"></script>
<!-- 
<div class="footer">
  <p>&copy; 2019 Video Downloader</p>
</div> -->
<style>

</style>
  </body>
</html>
